<?php
    $les = Array(
	Array("Φυσική Ι (Μηχανική)","K","6"),
	Array("Μαθηματικά Ι","K","6"),
	Array("Εισαγωγή στον Προγραμματισμό","K","6"),
	Array("Ψηφιακή Σχεδίαση","K","6"),
	Array("Εισαγωγή στην Οικονομική","K","4"),
	Array("Μαθηματικά ΙΙ","K","6"),
	Array("Φυσική ΙΙ (Ηλεκτρομαγνητισμός-Οπτική)","K","6"),
	Array("Αντικειμενοστραφής Προγραμματισμός","K","6"),
	Array("Αρχιτεκτονική Υπολογιστών","arxitektoniki","6"),
	Array("Μικροοικονομική","K","4"),
	Array("Πιθανότητες και Στατιστική","K","4"),
	Array("Ηλεκτρονική και Ηλεκτρικά Κυκλώματα","K","6"),
	Array("Σήματα και Συστήματα","K","6"),
	Array("Διοίκηση και Λήψη Αποφάσεων","K","4"),
	Array("Λειτουργικά Συστήματα","K","6"),
	Array("Συστήματα Αυτομάτου Ελέγχου","K","6"),
	Array("Συστήματα Επικοινωνιών","K","5"),
	Array("Δίκτυα Δεδομένων - Υπολογιστών","K","4"),
	Array("Βάσεις Δεδομένων","K","5"),
	Array("Τεχνητή Νοημοσύνη","K","4"),
	Array("Βιομηχανική Οργάνωση","K","4"),
	Array("Τεχνολογίες Εφαρμογών Διαδικτύου","K","4"),
	Array("Προγραμματισμός Συστήματος","K","6"),
	Array("Χρηματοοικονομική Λογιστική & Διοίκηση","K","4"),
	Array("Ρομποτική και Εφαρμογές","K","6"),
	Array("Ακαδημαϊκή Γραφή και Αγγλική Ορολογία","S","2"),
	Array("Σεμινάριο Python","S","2"),
	Array("Σεμινάριο MATLAB","S","2"),
	Array("Σεμινάριο Labview","S","2"),
	Array("Διακριτά Μαθηματικά","YA","4"),
	Array("Δομές Δεδομένων και Τεχνικές Προγραμματισμού","YA","6"),
	Array("Ψηφιακή Επεξεργασία Σήματος","YA","4"),
	Array("Αλγόριθμοι και Πολυπλοκότητα","YA","4"),
	Array("Βιομηχανικός Έλεγχος και Αισθητήρες","YA","4"),
	Array("Βιομηχανικά Ηλεκτρονικά","YA","4"),
	Array("Επικοινωνίες Μικρής Εμβέλειας","YA","4"),
	Array("Διαχείριση Συστημάτων και Δικτύων","YA","4"),
	Array("Μηχανική Μάθηση","YA","4"),
	Array("Διαδίκτυο των Πραγμάτων (IoT)","YA","4"),
	Array("Επικοινωνία Ανθρώπου Μηχανής","YA","4"),
	Array("Διοίκηση Καινοτομίας και Τεχνολογίας","YB","4"),
	Array("Διοίκηση Ανθρωπίνων Πόρων","YB","4"),
	Array("Τεχνική Ελεγκτική","YB","4"),
	Array("Διαχείριση Έργων","YB","4"),
	Array("Διοίκηση Ποιότητας","YB","4"),
	Array("Χρηματοοικονομική Ανάλυση - Επενδύσεις","YB","4"),
	Array("Πληροφοριακά Συστήματα","YB","4"),
	Array("Τεχνοοικονομική Ανάλυση και Μελέτες","YB","4"),
	Array("Συστήματα Υποστήριξης Αποφάσεων","YB","4"),
	Array("Διοικητική Πληροφοριακών και Τηλεπικοινωνιακών Συστημάτων","YB","4"),
	Array("Πληροφοριακά Συστήματα Διοίκησης και Επιχειρησιακών Πόρων","YB","4"),
	Array("Συστήματα Κινητών Επικοινωνιών","EA","4"),
	Array("Μάρκετινγκ","EB","3"),
	Array("Ανάλυση/Σχεδίαση Συστημάτων Λογισμικού","EAB","4"),
	Array("Έξυπνα Δίκτυα Ενέργειας (Smart grid)","EAB","4"),
	Array("Άλγεβρα & Εφαρμογές","EAB","4"),
	Array("Ιστορία και Φιλοσοφία της Τεχνολογίας","EE","4")
);
?>
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Παίρνεις πτυχίο; - Τεχνολογιών Ψηφιακής Βιομηχανίας">
    <meta name="author" content="MyDind Team">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


    <!-- Custom styles for this template -->
    <link href="mycss.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Πτυχίο Τεχνολογιών Ψηφιακής Βιομηχανίας</title>
</head>

<body>
    
        <div class="col-lg-8 mx-auto p-3 py-md-5">
            <header class="d-flex align-items-center pb-3 mb-5 border-bottom">
                <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
                    <!--  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="32" class="me-2" viewBox="0 0 118 94" role="img"><title>Bootstrap</title><path fill-rule="evenodd" clip-rule="evenodd" d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z" fill="currentColor"></path></svg> -->
                    <span class="fs-4">Η παρούσα εφαρμογή ισχύει <u>μόνο</u> για τους φοιτητές που έχουν εισαχθεί το
                        ακαδημαϊκό έτος <b>2019-2020</b> και <b>2020-2021</b> </span>
                </a>
            </header>

            <main>
                <h1>Παίρνεις πτυχίο;</h1>
                <p class="fs-5 col-md-8">Το μόνο που έχεις να κάνεις για να μάθεις είναι να επιλέξεις τα μαθήματα τα
                    οποία έχεις περάσει.
                </p>
                <p class="fs-5 col-md-8">Δες τα συγκεντρωμένα καθώς κάποια από τα μαθήματα κατεύθυνσης έγιναν επιλογής και αρκετά δεν είναι πια υποχρεωτικά.
                    Παρόλα αυτά εμείς θα υπολογίσουμε τα πάντα <u>βάση των μεταβατικών διατάξεων</u>.
                </p>

                <!-- https://html.form.guide/php-form/php-form-checkbox/ -->
                <div class="row justify-content-md-center">

                    <div class="col-md-6">
                        <form action="" method="post">
                            <h2>Υποχρεωτικά</h2>
                            <div class="list-group d-grid gap-3">
                            <?php for ($row = 0; $row < 25; $row++) {
                                        echo "
                                        <button type=\"button\" class=\"btn btn-outline-success\" name=\"lessons\" value=".$les[$row][1].'_'.$les[$row][2].">"
                                            .$les[$row][0]."
                                        </button>
                                        "; 
                                }
                            ?>
                            </div>
                            <br>
                            <h2>Σεμινάρια</h2>
                            <div class="list-group d-grid gap-3">
                            <?php for ($row = 25; $row < 29; $row++) {
                                    echo "
                                    <button type=\"button\" class=\"btn btn-outline-success\" name=\"lessons\" value=".$les[$row][1].'_'.$les[$row][2].">"
                                            .$les[$row][0]."
                                        </button>
                                    "; 
                                }
                            ?>
                            </div>
                            <br>
                            <h2>Κατεύθυνσης</h2>
                            <div class="list-group d-grid gap-3">
                            <?php for ($row = 29; $row < 51; $row++) {
                                        echo "
                                        <button type=\"button\" class=\"btn btn btn-outline-success\" name=\"lessons\" value=".$les[$row][1].'_'.$les[$row][2].">"
                                            .$les[$row][0]."
                                        </button>
                                        "; 
                                }
                            ?>
                            </div>
                            <br>
                            <h2>Επιλογής</h2>
                            <div class="list-group d-grid gap-3">
                            <?php for ($row = 51; $row < 56; $row++) {
                                        echo "
                                        <button type=\"button\" class=\"btn btn btn-outline-success\" name=\"lessons\" value=".$les[$row][1].'_'.$les[$row][2].">"
                                            .$les[$row][0]."
                                        </button>
                                        "; 
                                }
                            ?>
                            </div>
                            <br>
                            <h2>Ελεύθερα</h2>
                            <div class="list-group d-grid gap-3">
                            <?php for ($row = 56; $row < 57; $row++) {
                                        echo "
                                        <button type=\"button\" class=\"btn btn btn-outline-success\" name=\"lessons\" value=".$les[$row][1].'_'.$les[$row][2].">"
                                            .$les[$row][0]."
                                        </button>
                                        "; 
                                }
                            ?>
                            </div>
                            </br>
                            <div class="mb-5 d-grid">
                                <input type="button" class="btn btn-primary btn-lg px-4" name="button" id="button" onclick="result()"
                                    value="Δες πόσο κοντά είσαι">
                            </div>
                        </form>
                    </div>
                </div>
            </main>
            <div id="element-to-print">
        
            <div>
            <footer class="pt-5 my-5 text-muted border-top">
                Created by the <a href="https://mydind.net/">mydind</a> team &middot; &copy; 2022
            </footer>
        </div>
    

    <!-- 
        Εδώ ξεκινάνε τα αποτελέσματα
    -->
    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
        integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>

    <script>
        var element = document.getElementById('element-to-print');
        var opt = {
            margin: 0.5,
            filename: 'myfile.pdf',
            image: {
                type: 'jpeg',
                quality: 0.98
            },
            html2canvas: {
                scale: 2
            },
            jsPDF: {
                unit: 'in',
                format: 'letter',
                orientation: 'portrait'
            }
        };
    </script>
    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
    </script>
    <!-- Bootstrap core jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.slim.min.js"
        integrity="sha512-6ORWJX/LrnSjBzwefdNUyLCMTIsGoNP6NftMy2UAm1JBm6PRZCO1d7OHBStWpVFZLO+RerTvqX/Z9mBFfCJZ4A=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>
    <!-- jQuery v3.6.0 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Analytics -->

    <script>

        $(document).ready(function() {
            
            $('.btn-outline-success').click(function() {
                $(this).removeClass("btn-outline-success");
                $(this).addClass("btn-success");
            });

            $('.btn-success').click(function() {
                $(this).removeClass("btn-success");
                $(this).addClass("btn-outline-success");
            });

        });

    //$(document).ready(function() {
        //$("#button").click(function () {
        function result(){
            var Ypoxrewtika = 0;
            var Kateuthinsis = 0;
            var Psifiakwn = 0;
            var Dioikisis = 0;
            var Seminaria_ECTS = 0;
            var Elefthera_ECTS = 0;
            var All_ECTS = 0;
            var ypoloipa;

            $.each($('.btn-success'), function() {
                var res = $(this).val();
                const myArray = res.split("_");
                var type = myArray[0];
                var ECTS = parseInt(myArray[1]);

                /* 
                    Να έχουν παρακολουθήσει επιτυχώς οποιαδήποτε 24 από τα παρακάτω 25 μαθήματα, τα
                    οποία στο νέο ΠΠΣ χαρακτηρίζονται ως μαθήματα κορμού
                */
                if (type == 'K') 
                {
                    All_ECTS = All_ECTS + ECTS;
                    Ypoxrewtika++;
                }
                /*
                	Να έχουν παρακολουθήσει επιτυχώς 11 οποιαδήποτε μαθήματα από αυτά που
                	χαρακτηρίζονται στο νέο ΠΠΣ ως μαθήματα κατεύθυνσης (οποιασδήποτε κατεύθυνσης, είτε Α,
                	είτε Β, είτε συνδυασμός τους)
                */
                else if (type == 'YA' || type == 'YB') {
                    All_ECTS = All_ECTS + ECTS;
                    if (type == 'YA' || type == 'YB') {
                        Kateuthinsis++;
                        if (type == 'YA') {
                            Psifiakwn++;
                        } else if (type == 'YB') {
                            Dioikisis++;
                        }
                    }
                }
                /*
                Να έχουν παρακολουθήσει επιτυχώς σεμιναριακά μαθήματα (είτε του νέου, είτε του παλαιού
                ΠΠΣ) που αντιστοιχούν σε 8 ECTS και συγκεκριμένα:
                */
                else if (type == 'S') {
                    All_ECTS = All_ECTS + ECTS;
                    Seminaria_ECTS = Seminaria_ECTS + ECTS;
                }
                // Να έχουν παρακολουθήσει επιτυχώς μαθήματα ελεύθερης επιλογής που αντιστοιχούν σε 6 ECTS
                else if (type == 'EE') {
                    All_ECTS = All_ECTS + ECTS;
                    Elefthera_ECTS = Elefthera_ECTS + ECTS;
                }
                /*
                Μαθήματα επιλογής που έχουν χαρακτηριστεί στο νέο ΠΠΣ ως ΕΑ ή ΕΑΒ. Για όσους φοιτητές
                έχουν περάσει το μάθημα Άλγεβρα και Εφαρμογές, του προηγούμενου ΠΠΣ, αυτό προσμετράται
                στα μαθήματα επιλογής ΕΑΒ.
                */
                else if (type == 'EA' || type == 'EB' || type == 'EAB') 
                {
                    All_ECTS = All_ECTS + ECTS;
                    if (type == 'EA' || type == 'EB') {
                        if (type == 'EA') 
                        {
                            Psifiakwn++;
                        } 
                        else if (type == 'EB') 
                        {
                            Dioikisis++;
                        } 
                        else if (type == 'EAB') 
                        {
                            Psifiakwn++;
                            Dioikisis++;
                        }
                    }
                } 
                else if (type == 'arxitektoniki') 
                {
                    All_ECTS = All_ECTS + ECTS;
                    Ypoxrewtika++;
                    Psifiakwn++;
                }
                
                
                if((240-All_ECTS)%4 == 0)
                {
                    ypoloipa = (240-All_ECTS)/4;
                }
                else
                {
                    ypoloipa = (240-All_ECTS)/4 + 1;
                }
            }); 

            var myresult = `
            <div class="container mt-3">
                <h2>Σύνολο ${All_ECTS} ECTS</h2>
                <p>Σου λείπουν <u>ακόμα ${240-All_ECTS} ECTS</u>.</p>
                <div class="media border p-3">
                    <img src="les.png" alt="John Doe" class="mr-3 mt-3 rounded-circle" style="width:60px;">
                    <div class="media-body">
                    <h4>Υποχρεωτικά: <small><i>${Ypoxrewtika}</i></small></h4>
                    <h3>Σου λείπουν ακόμα <u>${24-Ypoxrewtika} υποχρεωτικά μαθήματα</u>.</h3>      
                    </div>
                </div>
                <div class="media border p-3">
                    <img src="les.png" alt="John Doe" class="mr-3 mt-3 rounded-circle" style="width:60px;">
                    <div class="media-body">
                    <h4>Σεμινάρια: <small><i>${Seminaria_ECTS} ECTS</i></small></h4>
                    <h3>Σου λείπουν ακόμα ${8-Seminaria_ECTS} ECTS, δηλαδή <u>${(8-Seminaria_ECTS)/2} σεμινάρια</u>.</h3>      
                    </div>
                </div>
                <div class="media border p-3">
                    <img src="les.png" alt="John Doe" class="mr-3 mt-3 rounded-circle" style="width:60px;">
                    <div class="media-body">
                    <h4>Μαθήματα Κατεύθυνσης: <small><i>${Kateuthinsis}.</i></small></h4>
                    <h3>Σου λείπουν ακόμα ${11-Kateuthinsis} μαθήματα κατεύθυνσης.</h3>      
                    </div>
                </div>
                <div class="media border p-3">
                    <img src="les.png" alt="John Doe" class="mr-3 mt-3 rounded-circle" style="width:60px;">
                    <div class="media-body">
                    <h4>Ελεύθερα μαθήματα: <small><i>${Elefthera_ECTS} ECTS.</i></small></h4>
                    <h3>Σου λείπουν ακόμα <b>${8-Elefthera_ECTS}</b> ECTS, δηλαδή <u>${(8-Elefthera_ECTS)/4} </u>ελεύθερα μαθήματα.</h3>      
                    </div>
                </div>
                <br>
                <h2>Κατεύθυνση</h2>
                <p>Η βεβαίωση παρακολούθησης κατεύθυνσης είναι προαιρετική.</p>
                <div class="media border p-3">
                    <img src="les.png" alt="John Doe" class="mr-3 mt-3 rounded-circle" style="width:60px;">
                    <div class="media-body">
                    <h4>Μαθήματα Συστημάτων: <small><i>${Psifiakwn}.</i></small></h4>
                    <h3>Αν θες να λάβεις βεβαίωση παρακολούθησης <b>κατεύθυνσης Συστημάτων</b> χρειάζεσαι <b>${12-Psifiakwn}</b> μαθήματα ΥΑ ή ΕΑ ή ΕΑΒ ακόμα.</h3>      
                    </div>
                </div>
                <div class="media border p-3">
                    <img src="les.png" alt="John Doe" class="mr-3 mt-3 rounded-circle" style="width:60px;">
                    <div class="media-body">
                    <h4>Μαθήματα Διοίκησης: <small><i>${Dioikisis}.</i></small></h4>
                    <h3>Αν θες να λάβεις βεβαίωση παρακολούθησης <b>κατεύθυνσης Διοίκησης</b> χρειάζεσαι <b>${11-Dioikisis}</b> μαθήματα ΥΒ ή ΕΒ ή ΕΑΒ ακόμα.</h3>      
                    </div>
                </div>

                <br>
                <h2>Πτυχίο</h2>
                <p>Είσαι <b>${ypoloipa}</b> μαθήματα των 4 ECTS μακριά από το πτυχίο.</p>
            </div>

            <!-- Κουμπί για να κατεβάσουν την αναφορά σε pdf 
                <div class="mb-5">
                    <a onclick="html2pdf().set(opt).from(element).save()" class="btn btn-primary btn-lg px-4">Σώσε με ως
                        PDF</a>
                </div>
            -->
            <footer class="pt-5 my-5 text-muted border-top">
                Created by the <a href="https://mydind.net/">mydind</a> team &middot; &copy; 2022
            </footer>
            `;
            document.getElementById("element-to-print").innerHTML = myresult;
        }

    </script>
</body>

</html>